{% for book in books.iter() %}
    <div class="library-item">
        <book-card
            thumb="{{ book.thumb.clone().unwrap_or("".into()) }}"
            title="{{ book.title }}"
            author="{{ book.parent_title }}"
        ></book-card>
    </div>
{% endfor %}

{% if next != 0 %}
<div
    id="library-paginated"
    hx-post="command:library_pagination"
    hx-trigger="intersect"
    hx-target="#library-paginated"
    hx-vals='{"current": {{ next }}}'
    hx-params="current"
    hx-swap="outerHTML">
        Loading...
</div>
{% endif %}
